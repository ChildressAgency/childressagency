jQuery(document).ready(function(e){function a(){var a=e(".hp-hero .row").height(),o=e(window).height(),t=o-a,r=t/2;return r}function o(){e("html, body").scrollTop(0);var a=new TimelineMax;return a.set([c,h],{height:d}).set(e("body"),{className:"-=is-loading"}).set(n,{className:"+=is-loaded"}).to(e(".cs-pre-loader"),.3,{width:0,ease:Power1.easeOut}).staggerFromTo(i,.3,{xPercent:"120%"},{xPercent:0,ease:Power1.easeOut},.3).set(n,{className:"+=is-active"}),a}function t(a){var o=e(a).find(".text-side"),t=e(a).find(".image-side");TweenMax.fromTo(o,.5,{y:"-100%"},{y:"0%",ease:Power2.easeOut}),TweenMax.fromTo(t,.5,{y:"100%"},{y:"0%",ease:Power3.easeOut}),e("#header-nav .navbar-brand").addClass("alt")}var r=(function(a,t){var r=!1,n=!1;setTimeout(function(){r=!0,n&&(i(),o())},300);var i=function(){e(".pre-loader").fadeOut(),e("body").removeClass("is-loading")};e(a).on("load",function(){n=!0,r&&(i(),o())})}(window,e(".pre-loader")),new ScrollMagic.Controller),n=e(".hp-hero"),i=e(".slogan-list ul>li"),s=e(".services-list ul>li"),l=e("#header-nav"),d=a(),c=e(".top-blinder"),h=e(".bottom-blinder"),u=e(window).width(),w=(new ScrollMagic.Scene({triggerElement:".page-wrapper",triggerHook:0,duration:"1400%"}).setPin(".page-wrapper").addTo(r),new TimelineMax);w.staggerTo(i,.5,{xPercent:"-=200%",ease:Power0.easeNone},.3).to(e(".hp-hero .overlay"),1,{opacity:1},"-=0.8");var g=new TimelineMax;g.fromTo(e(".hp-hero-logo"),.5,{autoAlpha:0},{autoAlpha:1}).staggerFromTo(s,.5,{y:"+=20",autoAlpha:0},{y:0,autoAlpha:1,ease:Power0.easeIn},.2,-.3).add("pauseOnServices");var m=new TimelineMax;u>767&&m.to(e(".hp-hero .overlay"),1,{width:"+=120%"},"pauseOnServices+=1");var p=new TimelineMax;p.to(n,1,{autoAlpha:0}).add("heroFadeOut").set(n,{className:"-=is-loaded"}).set(e("#case-study1"),{className:"+=is-loaded"});var f=new TimelineMax;u>767?f.fromTo([c,h],.5,{height:d},{height:0,ease:Power1.easeOut}):f.set([c,h],{display:"none"}),f.set(l,{className:"+=white-nav"});var v=new TimelineMax;v.add(w).add(g).add(m).add(p).add(f);var T=["#case-study1","#case-study2","#case-study3","#case-study4"],x=new TimelineMax,y=e(".slide");if(u>767)for(var M=0;M<T.length;M++){var b=e(y[M]).find(".overlay"),A=e(y[M]).find(".case-study-logo"),S=e(y[M]).find(".case-study-summary>*");x.fromTo(b,1,{width:0},{width:"50%"}).fromTo(A,.5,{autoAlpha:0},{autoAlpha:1}).staggerFromTo(S,.1,{autoAlpha:0,top:50},{autoAlpha:1,top:0},.2,"-=.5").to(b,1,{width:"100%"},"+=2"),M+1<T.length&&y.length>0&&x.fromTo(y[M+1],1,{x:"-100%"},{x:"0%"})}var P=new TimelineMax;u>767&&P.fromTo(e("#contact.full-screen"),1,{x:"-100%"},{x:"0%"}).fromTo(e("#contact.full-screen .wrapper h2"),.5,{autoAlpha:0,marginTop:50},{autoAlpha:1,marginTop:0}),P.set(l,{className:"-=white-nav"});var k=new TimelineMax;k.add(v).add(x).add(P);var C=(new ScrollMagic.Scene({triggerElement:".page-wrapper",triggerHook:0,duration:"1200%"}).setTween(k).addTo(r),e(".budget-slider").bootstrapSlider({id:"budgetSlider",min:500,max:5e4,step:500,value:3e3,tooltip:"hide",handle:"square"}));C&&C.on("slide slideStop",function(a){var o="";5e4==a.value&&(o="+"),e("#budget-value>span").text(a.value+o).digits()}),e.fn.digits=function(){return this.each(function(){e(this).text(e(this).text().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"))})},e(window).on("scroll",function(){l.offset().top>0?e(".scroll-header").addClass("white-bg"):e(".scroll-header").removeClass("white-bg")});var O=(new TimelineMax,e("#meet-the-team .row").toArray());O.forEach(function(e,a){new ScrollMagic.Scene({triggerElement:e,triggerHook:.5,reverse:!1}).setTween(TweenMax.fromTo(e,.5,{autoAlpha:0,top:100},{autoAlpha:1,top:0})).addTo(r)}),e(window).height()<750?e("#work-list-main").addClass("short-viewport"):e("#work-list-main").removeClass("short-viewport"),e('.work-nav a[data-toggle="tab"]').on("show.bs.tab",function(a){var o=a.target,r=e(o).attr("href");e(window).width()>767&&t(r)}),e("#work-list-main").smoothState({anchors:".show-work-details",onStart:{duration:1,render:function(e){e.find(".wiper").animate({width:"400%"},500)}}}),e('[data-toggle="offcanvas"]').on("click",function(){e(".row-offcanvas").toggleClass("active")}),e(".close-offcanvas").on("click",function(a){a.preventDefault(),e(".row-offcanvas").removeClass("active")})});